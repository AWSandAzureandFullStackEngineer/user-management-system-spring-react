import{j as e,L as d,r as i}from"./index-jpwqvs6n.js";import{g as p}from"./userService-C18VFg9C.js";const u=({user:t,onDelete:n})=>{const o=()=>{n(t.id,t.username)};return e.jsxs("tr",{className:"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-150",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:t.username}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:t.email}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:[t.firstName||""," ",t.lastName||""]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:t.phoneNumber||"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:t.active?e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800 dark:bg-green-700 dark:text-green-100",children:"Active"}):e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800 dark:bg-red-700 dark:text-red-100",children:"Inactive"})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx(d,{to:`/users/edit/${t.id}`,className:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300 mr-3 transition-colors",children:"Edit"}),e.jsx("button",{onClick:o,className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 transition-colors","aria-label":`Delete user ${t.username}`,children:"Delete"})]})]})},j=()=>{const[t,n]=i.useState([]),[o,c]=i.useState(!0),[x,h]=i.useState(null);i.useEffect(()=>{(async()=>{c(!0),h(null);try{const s=await p();n(s)}catch(s){const g=s instanceof Error?s.message:"An unknown error occurred while fetching users.";h(g),n([])}finally{c(!1)}})()},[]);const m=(r,s)=>{alert(`TODO: Implement delete for user: ${s} (ID: ${r})`)},a={display:"flex",flexDirection:"column",minHeight:"100vh",backgroundColor:"#111827",color:"white",padding:"2rem"},l={textAlign:"center",fontSize:"2rem",fontWeight:600,marginBottom:"2rem"};return o?e.jsxs("div",{style:a,children:[e.jsx("h1",{style:l,children:"User List"}),e.jsx("p",{style:{textAlign:"center"},children:"Loading users..."})]}):x?e.jsxs("div",{style:a,children:[e.jsx("h1",{style:l,children:"User List"}),e.jsxs("div",{style:{backgroundColor:"#FECACA",color:"#7F1D1D",padding:"1rem",borderRadius:"0.5rem",marginBottom:"1rem",textAlign:"center"},children:[e.jsx("strong",{children:"Error Fetching Users:"})," ",x,e.jsx("p",{style:{fontSize:"0.875rem",marginTop:"0.5rem"},children:"This page requires ADMIN privileges. If you are not logged in as an admin, or if there's a network issue, this error will appear. Check the console for more details."})]}),e.jsx("div",{style:{textAlign:"right"},children:e.jsx(d,{to:"/users/create",style:{backgroundColor:"#4F46E5",color:"white",fontWeight:"bold",padding:"0.5rem 1rem",borderRadius:"0.5rem",textDecoration:"none"},children:"+ Create New User"})})]}):e.jsxs("div",{style:a,children:[e.jsx("h1",{style:l,children:"User List"}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[e.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:600},children:"All Registered Users"}),e.jsx(d,{to:"/users/create",style:{backgroundColor:"#4F46E5",color:"white",fontWeight:"bold",padding:"0.5rem 1rem",borderRadius:"0.5rem",textDecoration:"none"},children:"+ Create New User"})]}),t.length===0?e.jsxs("div",{style:{backgroundColor:"#1F2937",padding:"2rem",borderRadius:"0.5rem",textAlign:"center"},children:[e.jsx("p",{children:"No users found."}),e.jsx("p",{style:{marginTop:"0.5rem",fontSize:"0.875rem"},children:"Try creating some users first!"})]}):e.jsx("div",{style:{backgroundColor:"#1F2937",borderRadius:"0.5rem",overflowX:"auto",boxShadow:"0 2px 10px rgba(0,0,0,0.3)"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsx("thead",{style:{backgroundColor:"#374151"},children:e.jsx("tr",{children:["Username","Email","Name","Phone","Status","Actions"].map(r=>e.jsx("th",{style:{textAlign:"left",padding:"1rem",fontSize:"0.75rem",textTransform:"uppercase",color:"#D1D5DB"},children:r},r))})}),e.jsx("tbody",{children:t.map(r=>e.jsx(u,{user:r,onDelete:m},r.id))})]})})]})};export{j as default};
